# Contributing to Payroc Go SDK

## Getting Started

### Prerequisites

To build and develop this SDK, you'll need:

- **Go 1.19 or higher** - [Download](https://golang.org/dl/)
- **Git** - [Download](https://git-scm.com/)

### Installation

Clone the repository and navigate to the project:

```bash
git clone https://github.com/payroc/payroc-sdk-go.git
cd payroc-sdk-go
```

### Project Structure

- `client/` - Main SDK client implementation
- `core/` - Core utilities and request handling
- `option/` - Configuration options
- `auth/` - Authentication handling
- `**/` - Resource-specific packages (payments, boarding, etc.)
- `go.mod` / `go.sum` - Go module dependencies
- `README.md` - Project overview
- `reference.md` - Full API reference

## Building

The Go SDK is a pure library with no build artifacts. Dependencies are managed through `go.mod`.

### Verify Dependencies

```bash
go mod verify
```

### Download Dependencies

```bash
go mod download
```

### Tidy Dependencies

Clean up unused dependencies:

```bash
go mod tidy
```

## Development Setup

### Recommended VS Code Extensions

For the best development experience, install this extension:

- **[Go](https://marketplace.visualstudio.com/items?itemName=golang.go)** - Official Go language support with IntelliSense, debugging, testing, and formatting

### Quick Setup

We've provided setup scripts to automatically install the recommended extensions:

**Windows (PowerShell):**
```powershell
.\vscode-scripts\setup-extensions.ps1
```

**macOS/Linux (Bash):**
```bash
bash vscode-scripts/setup-extensions.sh
```

After running the script, reload VS Code (`Ctrl+Shift+P` > `Reload Window`) to activate the extension.

## Testing

### Prerequisites for Running Tests

Tests require WireMock (a mock HTTP server) to be running. You'll need:

- **Docker** - [Install Docker](https://docs.docker.com/get-docker/)
- **Docker Compose** - Usually included with Docker Desktop

### Start WireMock

Before running tests, start the WireMock mock server:

```bash
docker-compose -f wiremock/docker-compose.test.yml up
```

This starts WireMock on `http://localhost:8080` with the API mappings configured for testing.

### Running Tests

In a separate terminal, execute all tests:

```bash
go test ./...
```

Run tests with verbose output:

```bash
go test -v ./...
```

Run tests with code coverage:

```bash
go test -cover ./...
```

Generate coverage report:

```bash
go test -coverprofile=coverage.out ./...
go tool cover -html=coverage.out
```

Run specific test:

```bash
go test ./payments -run TestPaymentName
```

### Stop WireMock

When done testing, stop the WireMock container:

```bash
docker-compose -f wiremock/docker-compose.test.yml down
```

## Code Quality

### Formatting

Format all Go code to project standards:

```bash
go fmt ./...
```

### Linting

Install golangci-lint (one-time setup):

```bash
go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest
```

Run Go linter checks:

```bash
golangci-lint run ./...
```

If `golangci-lint` is not found, use the full path:

```bash
$GOPATH/bin/golangci-lint run ./...
```

Or on Windows with PowerShell:

```powershell
& "$(go env GOPATH)\bin\golangci-lint.exe" run ./...
```

### Static Analysis

Run Go vet for common mistakes:

```bash
go vet ./...
```

## About Generated Code

**Important**: Most files in this SDK are automatically generated by [Fern](https://buildwithfern.com) from the API definition. Direct modifications to generated files will be overwritten the next time the SDK is generated.

### Generated Files

The following directories contain generated code:
- All resource packages (`payments/`, `boarding/`, `funding/`, etc.)
- Type definitions in `types.go`
- Client methods in `client/`

### How to Customize

If you need to customize the SDK, you have two options:


## Making Changes

### Generated Code

While we value open-source contributions to this SDK, this library is generated programmatically.
Additions made directly to this library would have to be moved over to our generation code,
otherwise they would be overwritten upon the next generated release. Feel free to open a PR as
a proof of concept, but know that we will not be able to merge it as-is. We suggest opening
an issue first to discuss with us!

On the other hand, contributions to the README are always very welcome!

### Documentation

Contributions to documentation (README.md, CONTRIBUTING.md, code comments, examples) are always welcome! Feel free to:

- Fix typos or clarify existing documentation
- Add usage examples
- Improve code comments

Simply open a pull request with your changes.

## Pull Request Process

1. Fork the repository
2. Create a new branch for your changes
3. Make your changes
4. Run tests and linters to ensure everything works
5. Submit a pull request

### Pull Request Guidelines

- Provide a clear description of the changes
- Reference any related issues
- Ensure all tests pass
- Follow the existing code style (use `go fmt`)
- Update documentation if needed

## Reporting Issues

If you find a bug or have a feature request:

1. Check if the issue already exists
2. If not, create a new issue with:
   - A clear title and description
   - Steps to reproduce (for bugs)
   - Expected vs actual behavior
   - Your environment (Go version, OS, SDK version, etc.)
   - Minimal code example demonstrating the issue

## Code of Conduct

Please note that this project is released with a Contributor Code of Conduct. By participating in this project you agree to abide by its terms.

## Questions?

If you have questions about contributing, feel free to open an issue or reach out to the maintainers.

Thank you for contributing to the Payroc API Go SDK!
By contributing to this project, you agree that your contributions will be licensed under the same license as the project.
