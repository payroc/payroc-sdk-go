// Code generated by Fern. DO NOT EDIT.

package payroccloud

import (
	json "encoding/json"
	papisdkgo "github.com/payroc/payroc-sdk-go"
	internal "github.com/payroc/payroc-sdk-go/internal"
	big "math/big"
)

var (
	deletePaymentInstructionsRequestFieldPaymentInstructionId = big.NewInt(1 << 0)
)

type DeletePaymentInstructionsRequest struct {
	// Unique identifier that we assigned to the payment instruction.
	PaymentInstructionId string `json:"-" url:"-"`

	// Private bitmask of fields set to an explicit value and therefore not to be omitted
	explicitFields *big.Int `json:"-" url:"-"`
}

func (d *DeletePaymentInstructionsRequest) require(field *big.Int) {
	if d.explicitFields == nil {
		d.explicitFields = big.NewInt(0)
	}
	d.explicitFields.Or(d.explicitFields, field)
}

// SetPaymentInstructionId sets the PaymentInstructionId field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (d *DeletePaymentInstructionsRequest) SetPaymentInstructionId(paymentInstructionId string) {
	d.PaymentInstructionId = paymentInstructionId
	d.require(deletePaymentInstructionsRequestFieldPaymentInstructionId)
}

var (
	retrievePaymentInstructionsRequestFieldPaymentInstructionId = big.NewInt(1 << 0)
)

type RetrievePaymentInstructionsRequest struct {
	// Unique identifier that we assigned to the payment instruction.
	PaymentInstructionId string `json:"-" url:"-"`

	// Private bitmask of fields set to an explicit value and therefore not to be omitted
	explicitFields *big.Int `json:"-" url:"-"`
}

func (r *RetrievePaymentInstructionsRequest) require(field *big.Int) {
	if r.explicitFields == nil {
		r.explicitFields = big.NewInt(0)
	}
	r.explicitFields.Or(r.explicitFields, field)
}

// SetPaymentInstructionId sets the PaymentInstructionId field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (r *RetrievePaymentInstructionsRequest) SetPaymentInstructionId(paymentInstructionId string) {
	r.PaymentInstructionId = paymentInstructionId
	r.require(retrievePaymentInstructionsRequestFieldPaymentInstructionId)
}

var (
	paymentInstructionRequestFieldIdempotencyKey       = big.NewInt(1 << 0)
	paymentInstructionRequestFieldSerialNumber         = big.NewInt(1 << 1)
	paymentInstructionRequestFieldOperator             = big.NewInt(1 << 2)
	paymentInstructionRequestFieldProcessingTerminalId = big.NewInt(1 << 3)
	paymentInstructionRequestFieldOrder                = big.NewInt(1 << 4)
	paymentInstructionRequestFieldCustomer             = big.NewInt(1 << 5)
	paymentInstructionRequestFieldIpAddress            = big.NewInt(1 << 6)
	paymentInstructionRequestFieldCredentialOnFile     = big.NewInt(1 << 7)
	paymentInstructionRequestFieldCustomizationOptions = big.NewInt(1 << 8)
	paymentInstructionRequestFieldAutoCapture          = big.NewInt(1 << 9)
	paymentInstructionRequestFieldProcessAsSale        = big.NewInt(1 << 10)
)

type PaymentInstructionRequest struct {
	// Unique identifier that you generate for each request. You must use the [UUID v4 format](https://www.rfc-editor.org/rfc/rfc4122) for the identifier. For more information about the idempotency key, go to [Idempotency](https://docs.payroc.com/api/idempotency).
	IdempotencyKey string `json:"-" url:"-"`
	// Serial number of the merchantâ€™s payment device.
	SerialNumber string `json:"-" url:"-"`
	// Operator who initiated the request.
	Operator *string `json:"operator,omitempty" url:"-"`
	// Unique identifier that we assigned to the terminal.
	ProcessingTerminalId string                             `json:"processingTerminalId" url:"-"`
	Order                *papisdkgo.PaymentInstructionOrder `json:"order" url:"-"`
	Customer             *papisdkgo.Customer                `json:"customer,omitempty" url:"-"`
	IpAddress            *papisdkgo.IpAddress               `json:"ipAddress,omitempty" url:"-"`
	CredentialOnFile     *papisdkgo.SchemasCredentialOnFile `json:"credentialOnFile,omitempty" url:"-"`
	CustomizationOptions *papisdkgo.CustomizationOptions    `json:"customizationOptions,omitempty" url:"-"`
	// Indicates if we should automatically capture the payment amount.
	//
	// - `true` - Run a sale and automatically capture the transaction.
	// - `false`- Run a pre-authorization and capture the transaction later.
	//
	// **Note:** If you send `false` and the terminal doesn't support pre-authorization, we set the transaction's status to pending. The merchant must capture the transaction to take payment from the customer.
	AutoCapture *bool `json:"autoCapture,omitempty" url:"-"`
	// Indicates if we should immediately settle the sale transaction. The merchant cannot adjust the transaction if we immediately settle it.
	// **Note:** If the value for **processAsSale** is `true`, the gateway ignores the value in **autoCapture**.
	ProcessAsSale *bool `json:"processAsSale,omitempty" url:"-"`

	// Private bitmask of fields set to an explicit value and therefore not to be omitted
	explicitFields *big.Int `json:"-" url:"-"`
}

func (p *PaymentInstructionRequest) require(field *big.Int) {
	if p.explicitFields == nil {
		p.explicitFields = big.NewInt(0)
	}
	p.explicitFields.Or(p.explicitFields, field)
}

// SetIdempotencyKey sets the IdempotencyKey field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (p *PaymentInstructionRequest) SetIdempotencyKey(idempotencyKey string) {
	p.IdempotencyKey = idempotencyKey
	p.require(paymentInstructionRequestFieldIdempotencyKey)
}

// SetSerialNumber sets the SerialNumber field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (p *PaymentInstructionRequest) SetSerialNumber(serialNumber string) {
	p.SerialNumber = serialNumber
	p.require(paymentInstructionRequestFieldSerialNumber)
}

// SetOperator sets the Operator field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (p *PaymentInstructionRequest) SetOperator(operator *string) {
	p.Operator = operator
	p.require(paymentInstructionRequestFieldOperator)
}

// SetProcessingTerminalId sets the ProcessingTerminalId field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (p *PaymentInstructionRequest) SetProcessingTerminalId(processingTerminalId string) {
	p.ProcessingTerminalId = processingTerminalId
	p.require(paymentInstructionRequestFieldProcessingTerminalId)
}

// SetOrder sets the Order field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (p *PaymentInstructionRequest) SetOrder(order *papisdkgo.PaymentInstructionOrder) {
	p.Order = order
	p.require(paymentInstructionRequestFieldOrder)
}

// SetCustomer sets the Customer field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (p *PaymentInstructionRequest) SetCustomer(customer *papisdkgo.Customer) {
	p.Customer = customer
	p.require(paymentInstructionRequestFieldCustomer)
}

// SetIpAddress sets the IpAddress field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (p *PaymentInstructionRequest) SetIpAddress(ipAddress *papisdkgo.IpAddress) {
	p.IpAddress = ipAddress
	p.require(paymentInstructionRequestFieldIpAddress)
}

// SetCredentialOnFile sets the CredentialOnFile field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (p *PaymentInstructionRequest) SetCredentialOnFile(credentialOnFile *papisdkgo.SchemasCredentialOnFile) {
	p.CredentialOnFile = credentialOnFile
	p.require(paymentInstructionRequestFieldCredentialOnFile)
}

// SetCustomizationOptions sets the CustomizationOptions field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (p *PaymentInstructionRequest) SetCustomizationOptions(customizationOptions *papisdkgo.CustomizationOptions) {
	p.CustomizationOptions = customizationOptions
	p.require(paymentInstructionRequestFieldCustomizationOptions)
}

// SetAutoCapture sets the AutoCapture field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (p *PaymentInstructionRequest) SetAutoCapture(autoCapture *bool) {
	p.AutoCapture = autoCapture
	p.require(paymentInstructionRequestFieldAutoCapture)
}

// SetProcessAsSale sets the ProcessAsSale field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (p *PaymentInstructionRequest) SetProcessAsSale(processAsSale *bool) {
	p.ProcessAsSale = processAsSale
	p.require(paymentInstructionRequestFieldProcessAsSale)
}

func (p *PaymentInstructionRequest) UnmarshalJSON(data []byte) error {
	type unmarshaler PaymentInstructionRequest
	var body unmarshaler
	if err := json.Unmarshal(data, &body); err != nil {
		return err
	}
	*p = PaymentInstructionRequest(body)
	return nil
}

func (p *PaymentInstructionRequest) MarshalJSON() ([]byte, error) {
	type embed PaymentInstructionRequest
	var marshaler = struct {
		embed
	}{
		embed: embed(*p),
	}
	explicitMarshaler := internal.HandleExplicitFields(marshaler, p.explicitFields)
	return json.Marshal(explicitMarshaler)
}
